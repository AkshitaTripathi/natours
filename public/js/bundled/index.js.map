{"mappings":"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","sources":["<anon>","public/js/index.js","public/js/leaflet.js","public/js/login.js","public/js/alerts.js","public/js/updateSettings.js","public/js/stripe.js","public/js/reviews.js"],"sourcesContent":["(function () {\n/*eslint-disable*/ /*eslint-disable*/ const $935736c08b08363a$export$4c5dd147b21b9176 = (locations)=>{\n    const map = L.map(\"map\", {\n        center: [\n            51.505,\n            -0.09\n        ],\n        zoom: 13,\n        zoomControl: false,\n        dragging: true\n    });\n    L.tileLayer(\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\", {\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n    }).addTo(map);\n    const points = [];\n    locations.forEach((loc)=>{\n        points.push([\n            loc.coordinates[1],\n            loc.coordinates[0]\n        ]);\n        L.marker([\n            loc.coordinates[1],\n            loc.coordinates[0]\n        ]).addTo(map).bindPopup(`<p>Day ${loc.day}: ${loc.description}</p>`, {\n            autoClose: false\n        }).openPopup();\n    });\n    const bounds = L.latLngBounds(points).pad(0.5);\n    map.fitBounds(bounds);\n    map.scrollWheelZoom.disable();\n};\n\n\n/*eslint-disable*/ /*eslint-disable*/ const $464a6b1d4ff7eaf0$export$516836c6a9dfc573 = ()=>{\n    const el = document.querySelector(\".alert\");\n    if (el) el.parentElement.removeChild(el);\n};\nconst $464a6b1d4ff7eaf0$export$de026b00723010c1 = (type, msg)=>{\n    $464a6b1d4ff7eaf0$export$516836c6a9dfc573();\n    const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\n    document.querySelector(\"body\").insertAdjacentHTML(\"afterbegin\", markup);\n    window.setTimeout($464a6b1d4ff7eaf0$export$516836c6a9dfc573, 5000);\n};\n\n\nconst $6b9fb057330b23bc$export$596d806903d1f59e = async (email, password)=>{\n    // console.log(email, password);\n    try {\n        const res = await axios({\n            method: \"POST\",\n            url: \"/api/v1/users/login\",\n            data: {\n                email: email,\n                password: password\n            }\n        });\n        if (res.data.status === \"success\") {\n            (0, $464a6b1d4ff7eaf0$export$de026b00723010c1)(\"success\", \"Logged  in successfully\");\n            window.setTimeout(()=>{\n                location.assign(\"/\");\n            }, 1500);\n        }\n    } catch (error) {\n        console.log(error);\n        (0, $464a6b1d4ff7eaf0$export$de026b00723010c1)(\"error\", error.response.data.message);\n    }\n};\nconst $6b9fb057330b23bc$export$a0973bcfe11b05c9 = async (email, password)=>{\n    try {\n        const res = await axios({\n            method: \"GET\",\n            url: \"/api/v1/users/logout\"\n        });\n        if (res.data.status === \"success\") location.reload(true);\n    } catch (error) {\n        (0, $464a6b1d4ff7eaf0$export$de026b00723010c1)(\"error\", \"Error logging out! Try again\");\n    }\n};\nconst $6b9fb057330b23bc$export$7200a869094fec36 = async (name, email, password, passwordConfirm)=>{\n    try {\n        const res = await axios({\n            method: \"POST\",\n            url: \"/api/v1/users/signup\",\n            data: {\n                name: name,\n                email: email,\n                password: password,\n                passwordConfirm: passwordConfirm\n            }\n        });\n        if (res.data.status === \"success\") {\n            (0, $464a6b1d4ff7eaf0$export$de026b00723010c1)(\"success\", \"Signed up successfully\");\n            window.setImmediate(()=>{\n                location.assign(\"/\");\n            }, 1500);\n        }\n    } catch (err) {\n        (0, $464a6b1d4ff7eaf0$export$de026b00723010c1)(\"error\", err.response.data.message);\n    }\n};\n\n\n/*eslint-disable*/ \nconst $32829daa09536fc4$export$f558026a994b6051 = async (data, type)=>{\n    try {\n        console.log(data);\n        const url = type === \"password\" ? \"/api/v1/users/updateMyPassword\" : \"/api/v1/users/updateMe\";\n        const res = await axios({\n            method: \"PATCH\",\n            url: url,\n            data: data\n        });\n        if (res.data.status === \"success\") (0, $464a6b1d4ff7eaf0$export$de026b00723010c1)(\"success\", `${type.toUpperCase()} updated successfully!`);\n    } catch (err) {\n        (0, $464a6b1d4ff7eaf0$export$de026b00723010c1)(\"error\", err.response.data.message);\n    }\n};\n\n\n\n/*eslint-disable*/ const $e1c826a0a5d6adee$var$stripe = Stripe(\"pk_test_51NSSWuSATxeCRZhs12oftZCZ0Vp3oBnE9URxKECGqTVCrwAtENHrEzM2x4fCuRlwz7dxECRRmCZYnGKA1Ydy82Ev00n8cEr4jt\");\nconst $e1c826a0a5d6adee$export$8d5bdbf26681c0c2 = async (tourId, startDateId)=>{\n    try {\n        // 1) Get checkout session from API\n        console.log(\"working\");\n        const session = await axios(`/api/v1/booking/checkout-session/${tourId}/${startDateId}`);\n        console.log(session.data.session.id, session);\n        // 2) Create checkout form + charge the credit card\n        await $e1c826a0a5d6adee$var$stripe.redirectToCheckout({\n            sessionId: session.data.session.id\n        });\n    } catch (err) {\n        console.log(err);\n        (0, $464a6b1d4ff7eaf0$export$de026b00723010c1)(\"error\", err);\n    }\n};\n\n\n\nconst $3874b54bdba0a28a$export$27e91d9d0d5c3267 = async (review, rating, tour, user)=>{\n    try {\n        const res = await axios({\n            method: \"POST\",\n            url: `/api/v1/tours/${tour}/reviews`,\n            data: {\n                review: review,\n                rating: rating,\n                tour: tour,\n                user: user\n            }\n        });\n        if (res.data.status === \"success\") {\n            (0, $464a6b1d4ff7eaf0$export$de026b00723010c1)(\"success\", \"Review was succesfully uploaded!\");\n            window.setTimeout(()=>{\n                location.reload(true);\n            }, 1000);\n        }\n    } catch (err) {\n        (0, $464a6b1d4ff7eaf0$export$de026b00723010c1)(\"error\", \"You can leave only one review.\");\n    }\n};\nconst $3874b54bdba0a28a$export$5880d3dcefee9176 = async (rating, review, reviewId)=>{\n    try {\n        const res = await axios({\n            method: \"PATCH\",\n            url: `/api/v1/reviews/${reviewId}`,\n            data: {\n                rating: rating,\n                review: review\n            }\n        });\n        if (res.data.status === \"success\") {\n            (0, $464a6b1d4ff7eaf0$export$de026b00723010c1)(\"success\", \"Review was succesfully edited!\");\n            window.setTimeout(()=>{\n                location.reload(true);\n            }, 1000);\n        }\n    } catch (err) {\n        (0, $464a6b1d4ff7eaf0$export$de026b00723010c1)(\"error\", \"Error with editing review!\");\n    }\n};\nconst $3874b54bdba0a28a$export$189a68d831f3e4ec = async (reviewId)=>{\n    try {\n        const res = await axios({\n            method: \"DELETE\",\n            url: `/api/v1/reviews/${reviewId}`\n        });\n        if (res.status === 204) {\n            (0, $464a6b1d4ff7eaf0$export$de026b00723010c1)(\"success\", \"Review was succesfully deleted!\");\n            window.setTimeout(()=>{\n                location.reload(true);\n            }, 600);\n        }\n    } catch (err) {\n        (0, $464a6b1d4ff7eaf0$export$de026b00723010c1)(\"error\", \"Error with deleting review!\");\n    }\n};\n\n\n\nconst $c2fdc85be7b330ef$var$mapBox = document.getElementById(\"map\");\nconst $c2fdc85be7b330ef$var$loginForm = document.querySelector(\".form--login\");\nconst $c2fdc85be7b330ef$var$logoutBtn = document.querySelector(\".nav__el--logout\");\nconst $c2fdc85be7b330ef$var$signupForm = document.querySelector(\".form--signup\");\nconst $c2fdc85be7b330ef$var$userDataForm = document.querySelector(\".form-user-data\");\nconst $c2fdc85be7b330ef$var$userPasswordForm = document.querySelector(\".form-user-password\");\nconst $c2fdc85be7b330ef$var$reviewDataForm = document.querySelector(\".review--form\");\nconst $c2fdc85be7b330ef$var$bookBtn = document.getElementById(\"book-tour\");\nconst $c2fdc85be7b330ef$var$selectStartDate = document.querySelector(\".selectStartDate\");\nconst $c2fdc85be7b330ef$var$reviews = document.querySelector(\".reviews\");\nif ($c2fdc85be7b330ef$var$mapBox) {\n    const locations = JSON.parse($c2fdc85be7b330ef$var$mapBox.dataset.locations);\n    (0, $935736c08b08363a$export$4c5dd147b21b9176)(locations);\n}\nif ($c2fdc85be7b330ef$var$loginForm) $c2fdc85be7b330ef$var$loginForm.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    const email = document.getElementById(\"email\").value;\n    const password = document.getElementById(\"password\").value;\n    (0, $6b9fb057330b23bc$export$596d806903d1f59e)(email, password);\n// console.log('Login');\n});\nif ($c2fdc85be7b330ef$var$logoutBtn) $c2fdc85be7b330ef$var$logoutBtn.addEventListener(\"click\", (0, $6b9fb057330b23bc$export$a0973bcfe11b05c9));\nif ($c2fdc85be7b330ef$var$signupForm) $c2fdc85be7b330ef$var$signupForm.addEventListener(\"submit\", (e)=>{\n    console.log(\"Signup\");\n    e.preventDefault();\n    const name = document.getElementById(\"name\").value;\n    const email = document.getElementById(\"email\").value;\n    const password = document.getElementById(\"password\").value;\n    const passwordConfirm = document.getElementById(\"passwordc\").value;\n    (0, $6b9fb057330b23bc$export$7200a869094fec36)(name, email, password, passwordConfirm);\n});\nif ($c2fdc85be7b330ef$var$userDataForm) $c2fdc85be7b330ef$var$userDataForm.addEventListener(\"submit\", (e)=>{\n    // console.log('works');\n    e.preventDefault();\n    const form = new FormData();\n    form.append(\"name\", document.getElementById(\"name\").value);\n    form.append(\"email\", document.getElementById(\"email\").value);\n    form.append(\"photo\", document.getElementById(\"photo\").files[0]);\n    (0, $32829daa09536fc4$export$f558026a994b6051)(form, \"data\");\n});\nif ($c2fdc85be7b330ef$var$userPasswordForm) $c2fdc85be7b330ef$var$userPasswordForm.addEventListener(\"submit\", async (e)=>{\n    e.preventDefault();\n    document.querySelector(\".btn--save-password\").textContent = \"Updating...\";\n    const passwordCurrent = document.getElementById(\"password-current\").value;\n    const password = document.getElementById(\"password\").value;\n    const passwordConfirm = document.getElementById(\"password-confirm\").value;\n    await (0, $32829daa09536fc4$export$f558026a994b6051)({\n        passwordCurrent: passwordCurrent,\n        password: password,\n        passwordConfirm: passwordConfirm\n    }, \"password\");\n    document.querySelector(\".btn--save-password\").textContent = \"Save password\";\n    document.getElementById(\"password-current\").value = \"\";\n    document.getElementById(\"password\").value = \"\";\n    document.getElementById(\"password-confirm\").value = \"\";\n});\nif ($c2fdc85be7b330ef$var$bookBtn) $c2fdc85be7b330ef$var$bookBtn.addEventListener(\"click\", (e)=>{\n    e.target.textContent = \"Processing...\";\n    const { tourId: tourId } = e.target.dataset;\n    const startDateId = $c2fdc85be7b330ef$var$selectStartDate.value;\n    (0, $e1c826a0a5d6adee$export$8d5bdbf26681c0c2)(tourId, startDateId);\n});\nif ($c2fdc85be7b330ef$var$reviewDataForm) $c2fdc85be7b330ef$var$reviewDataForm.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    const review = document.getElementById(\"review\").value;\n    const rating = document.getElementById(\"rating\").value;\n    const { user: user, tour: tour } = JSON.parse($c2fdc85be7b330ef$var$reviewDataForm.dataset.ids);\n    (0, $3874b54bdba0a28a$export$27e91d9d0d5c3267)(review, rating, tour, user);\n    document.getElementById(\"review\").textContent = \"\";\n    document.getElementById(\"rating\").textContent = \"\";\n});\nif ($c2fdc85be7b330ef$var$reviews) $c2fdc85be7b330ef$var$reviews.addEventListener(\"click\", (e)=>{\n    if (e.target.tagName === \"BUTTON\") {\n        const button = e.target;\n        const reviewsCard = button.closest(\".reviews__card\");\n        const reviews = reviewsCard.parentNode;\n        if (button.textContent === \"Delete\") {\n            const reviewId = button.dataset.reviewId;\n            (0, $3874b54bdba0a28a$export$189a68d831f3e4ec)(reviewId);\n            setTimeout(()=>{\n                reviews.removeChild(reviewsCard);\n            }, 500);\n        } else if (button.textContent === \"Edit\") {\n            const reviewText = reviewsCard.querySelector(\".reviews__text\");\n            const reviewRatingBox = reviewsCard.querySelector(\".reviews__rating\");\n            /// Cancel button\n            let cancel = document.createElement(\"button\");\n            cancel.className = \"review__change review__cancel\";\n            cancel.id = \"review__cancel\";\n            cancel.textContent = \"Cancel\";\n            cancel.setAttribute(\"data-review-text\", reviewText.textContent);\n            /// Find the rating number\n            const stars = reviewsCard.querySelectorAll(\".reviews__star--active\");\n            // InputReview\n            const inputReview = document.createElement(\"textarea\");\n            inputReview.style.width = \"25.8rem\";\n            inputReview.className = \"reviews__text\";\n            inputReview.value = reviewText.textContent;\n            // InputRating\n            const inputRating = document.createElement(\"input\");\n            inputRating.className = \"reviews__rating-input\";\n            inputRating.type = \"number\";\n            inputRating.value = stars.length;\n            reviewsCard.insertBefore(inputReview, reviewText);\n            reviewsCard.insertBefore(inputRating, reviewRatingBox);\n            reviewsCard.append(cancel);\n            reviewsCard.removeChild(reviewText);\n            button.textContent = \"Save\";\n            button.setAttribute(\"data-review-id\", button.dataset.reviewId);\n        } else if (button.textContent === \"Cancel\") {\n            const cancelBtn = reviewsCard.querySelector(\".review__cancel\");\n            const editBtn = reviewsCard.querySelector(\".review__edit\");\n            const reviewTextContent = cancelBtn.dataset.reviewText;\n            const inputReview = reviewsCard.querySelector(\".reviews__text\");\n            const inputRating = reviewsCard.querySelector(\".reviews__rating-input\");\n            const reviewText = document.createElement(\"p\");\n            reviewText.className = \"reviews__text\";\n            reviewText.textContent = reviewTextContent;\n            reviewsCard.insertBefore(reviewText, inputReview);\n            reviewsCard.removeChild(inputReview);\n            reviewsCard.removeChild(inputRating);\n            reviewsCard.removeChild(cancelBtn);\n            editBtn.textContent = \"Edit\";\n        } else if (button.textContent === \"Save\") {\n            const inputReview = reviewsCard.querySelector(\".reviews__text\");\n            const inputRating = reviewsCard.querySelector(\".reviews__rating-input\");\n            const cancelBtn = reviewsCard.querySelector(\".review__cancel\");\n            reviewsCard.removeChild(cancelBtn);\n            const reviewText = document.createElement(\"p\");\n            reviewText.className = \"reviews__text\";\n            reviewText.textContent = inputReview.value;\n            reviewsCard.insertBefore(reviewText, inputReview);\n            reviewsCard.removeChild(inputReview);\n            reviewsCard.removeChild(inputRating);\n            (0, $3874b54bdba0a28a$export$5880d3dcefee9176)(+inputRating.value, reviewText.textContent, button.dataset.reviewId);\n            button.textContent = \"Edit\";\n        }\n    }\n});\nconst $c2fdc85be7b330ef$var$alertMessage = document.querySelector(\"body\").dataset.alert;\nif ($c2fdc85be7b330ef$var$alertMessage) (0, $464a6b1d4ff7eaf0$export$de026b00723010c1)(\"success\", $c2fdc85be7b330ef$var$alertMessage, 6);\n\n})();\n//# sourceMappingURL=index.js.map\n","/*eslint-disable*/\r\nimport { displayMap } from './leaflet';\r\nimport { login, logout, signup } from './login';\r\nimport { updateSettings } from './updateSettings';\r\nimport { bookTour } from './stripe';\r\nimport {\r\n  leaveReview,\r\n  deleteReview,\r\n  editReview,\r\n} from './reviews';\r\nimport { showAlert } from './alerts';\r\n\r\nconst mapBox = document.getElementById('map');\r\nconst loginForm = document.querySelector('.form--login');\r\nconst logoutBtn = document.querySelector(\r\n  '.nav__el--logout'\r\n);\r\nconst signupForm = document.querySelector('.form--signup');\r\nconst userDataForm = document.querySelector(\r\n  '.form-user-data'\r\n);\r\nconst userPasswordForm = document.querySelector(\r\n  '.form-user-password'\r\n);\r\nconst reviewDataForm =\r\n  document.querySelector('.review--form');\r\nconst bookBtn = document.getElementById('book-tour');\r\nconst selectStartDate = document.querySelector(\r\n  '.selectStartDate'\r\n);\r\nconst reviews = document.querySelector('.reviews');\r\n\r\nif (mapBox) {\r\n  const locations = JSON.parse(mapBox.dataset.locations);\r\n  displayMap(locations);\r\n}\r\n\r\nif (loginForm)\r\n  loginForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const email = document.getElementById('email').value;\r\n    const password =\r\n      document.getElementById('password').value;\r\n    login(email, password);\r\n    // console.log('Login');\r\n  });\r\n\r\nif (logoutBtn) {\r\n  logoutBtn.addEventListener('click', logout);\r\n  // console.log('logout');\r\n}\r\n\r\nif (signupForm) {\r\n  signupForm.addEventListener('submit', (e) => {\r\n    console.log('Signup');\r\n    e.preventDefault();\r\n    const name = document.getElementById('name').value;\r\n    const email = document.getElementById('email').value;\r\n    const password =\r\n      document.getElementById('password').value;\r\n    const passwordConfirm =\r\n      document.getElementById('passwordc').value;\r\n\r\n    signup(name, email, password, passwordConfirm);\r\n  });\r\n}\r\n\r\nif (userDataForm)\r\n  userDataForm.addEventListener('submit', (e) => {\r\n    // console.log('works');\r\n    e.preventDefault();\r\n    const form = new FormData();\r\n    form.append(\r\n      'name',\r\n      document.getElementById('name').value\r\n    );\r\n    form.append(\r\n      'email',\r\n      document.getElementById('email').value\r\n    );\r\n    form.append(\r\n      'photo',\r\n      document.getElementById('photo').files[0]\r\n    );\r\n    updateSettings(form, 'data');\r\n  });\r\n\r\nif (userPasswordForm)\r\n  userPasswordForm.addEventListener('submit', async (e) => {\r\n    e.preventDefault();\r\n    document.querySelector(\r\n      '.btn--save-password'\r\n    ).textContent = 'Updating...';\r\n    const passwordCurrent = document.getElementById(\r\n      'password-current'\r\n    ).value;\r\n    const password =\r\n      document.getElementById('password').value;\r\n    const passwordConfirm = document.getElementById(\r\n      'password-confirm'\r\n    ).value;\r\n    await updateSettings(\r\n      { passwordCurrent, password, passwordConfirm },\r\n      'password'\r\n    );\r\n    document.querySelector(\r\n      '.btn--save-password'\r\n    ).textContent = 'Save password';\r\n    document.getElementById('password-current').value = '';\r\n    document.getElementById('password').value = '';\r\n    document.getElementById('password-confirm').value = '';\r\n  });\r\n\r\nif (bookBtn) {\r\n  bookBtn.addEventListener('click', (e) => {\r\n    e.target.textContent = 'Processing...';\r\n    const { tourId } = e.target.dataset;\r\n    const startDateId = selectStartDate.value;\r\n\r\n    bookTour(tourId, startDateId);\r\n  });\r\n}\r\nif (reviewDataForm) {\r\n  reviewDataForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const review = document.getElementById('review').value;\r\n    const rating = document.getElementById('rating').value;\r\n    const { user, tour } = JSON.parse(\r\n      reviewDataForm.dataset.ids\r\n    );\r\n\r\n    leaveReview(review, rating, tour, user);\r\n\r\n    document.getElementById('review').textContent = '';\r\n    document.getElementById('rating').textContent = '';\r\n  });\r\n}\r\n\r\nif (reviews)\r\n  reviews.addEventListener('click', (e) => {\r\n    if (e.target.tagName === 'BUTTON') {\r\n      const button = e.target;\r\n      const reviewsCard = button.closest('.reviews__card');\r\n      const reviews = reviewsCard.parentNode;\r\n      if (button.textContent === 'Delete') {\r\n        const reviewId = button.dataset.reviewId;\r\n        deleteReview(reviewId);\r\n        setTimeout(() => {\r\n          reviews.removeChild(reviewsCard);\r\n        }, 500);\r\n      } else if (button.textContent === 'Edit') {\r\n        const reviewText = reviewsCard.querySelector(\r\n          '.reviews__text'\r\n        );\r\n        const reviewRatingBox = reviewsCard.querySelector(\r\n          '.reviews__rating'\r\n        );\r\n\r\n        /// Cancel button\r\n        let cancel = document.createElement('button');\r\n        cancel.className = 'review__change review__cancel';\r\n        cancel.id = 'review__cancel';\r\n        cancel.textContent = 'Cancel';\r\n        cancel.setAttribute(\r\n          'data-review-text',\r\n          reviewText.textContent\r\n        );\r\n\r\n        /// Find the rating number\r\n        const stars = reviewsCard.querySelectorAll(\r\n          '.reviews__star--active'\r\n        );\r\n\r\n        // InputReview\r\n        const inputReview =\r\n          document.createElement('textarea');\r\n        inputReview.style.width = '25.8rem';\r\n        inputReview.className = 'reviews__text';\r\n        inputReview.value = reviewText.textContent;\r\n\r\n        // InputRating\r\n        const inputRating = document.createElement('input');\r\n        inputRating.className = 'reviews__rating-input';\r\n        inputRating.type = 'number';\r\n        inputRating.value = stars.length;\r\n\r\n        reviewsCard.insertBefore(inputReview, reviewText);\r\n        reviewsCard.insertBefore(\r\n          inputRating,\r\n          reviewRatingBox\r\n        );\r\n        reviewsCard.append(cancel);\r\n\r\n        reviewsCard.removeChild(reviewText);\r\n        button.textContent = 'Save';\r\n        button.setAttribute(\r\n          'data-review-id',\r\n          button.dataset.reviewId\r\n        );\r\n      } else if (button.textContent === 'Cancel') {\r\n        const cancelBtn = reviewsCard.querySelector(\r\n          '.review__cancel'\r\n        );\r\n        const editBtn =\r\n          reviewsCard.querySelector('.review__edit');\r\n        const reviewTextContent =\r\n          cancelBtn.dataset.reviewText;\r\n        const inputReview = reviewsCard.querySelector(\r\n          '.reviews__text'\r\n        );\r\n        const inputRating = reviewsCard.querySelector(\r\n          '.reviews__rating-input'\r\n        );\r\n\r\n        const reviewText = document.createElement('p');\r\n        reviewText.className = 'reviews__text';\r\n        reviewText.textContent = reviewTextContent;\r\n\r\n        reviewsCard.insertBefore(reviewText, inputReview);\r\n\r\n        reviewsCard.removeChild(inputReview);\r\n        reviewsCard.removeChild(inputRating);\r\n\r\n        reviewsCard.removeChild(cancelBtn);\r\n        editBtn.textContent = 'Edit';\r\n      } else if (button.textContent === 'Save') {\r\n        const inputReview = reviewsCard.querySelector(\r\n          '.reviews__text'\r\n        );\r\n        const inputRating = reviewsCard.querySelector(\r\n          '.reviews__rating-input'\r\n        );\r\n        const cancelBtn = reviewsCard.querySelector(\r\n          '.review__cancel'\r\n        );\r\n        reviewsCard.removeChild(cancelBtn);\r\n\r\n        const reviewText = document.createElement('p');\r\n        reviewText.className = 'reviews__text';\r\n        reviewText.textContent = inputReview.value;\r\n        reviewsCard.insertBefore(reviewText, inputReview);\r\n\r\n        reviewsCard.removeChild(inputReview);\r\n        reviewsCard.removeChild(inputRating);\r\n\r\n        editReview(\r\n          +inputRating.value,\r\n          reviewText.textContent,\r\n          button.dataset.reviewId\r\n        );\r\n\r\n        button.textContent = 'Edit';\r\n      }\r\n    }\r\n  });\r\nconst alertMessage =\r\n  document.querySelector('body').dataset.alert;\r\nif (alertMessage) showAlert('success', alertMessage, 6);\r\n","/*eslint-disable*/\r\n\r\nexport const displayMap = (locations) => {\r\n  const map = L.map('map', {\r\n    center: [51.505, -0.09],\r\n    zoom: 13,\r\n    zoomControl: false,\r\n    dragging: true,\r\n  });\r\n\r\n  L.tileLayer(\r\n    'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\r\n    {\r\n      attribution:\r\n        '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\r\n    }\r\n  ).addTo(map);\r\n\r\n  const points = [];\r\n  locations.forEach((loc) => {\r\n    points.push([loc.coordinates[1], loc.coordinates[0]]);\r\n    L.marker([loc.coordinates[1], loc.coordinates[0]])\r\n      .addTo(map)\r\n      .bindPopup(\r\n        `<p>Day ${loc.day}: ${loc.description}</p>`,\r\n        { autoClose: false }\r\n      )\r\n      .openPopup();\r\n  });\r\n\r\n  const bounds = L.latLngBounds(points).pad(0.5);\r\n  map.fitBounds(bounds);\r\n\r\n  map.scrollWheelZoom.disable();\r\n};\r\n","/*eslint-disable*/\r\nimport { showAlert } from './alerts';\r\n\r\nexport const login = async (email, password) => {\r\n  // console.log(email, password);\r\n  try {\r\n    const res = await axios({\r\n      method: 'POST',\r\n      url: '/api/v1/users/login',\r\n      data: {\r\n        email,\r\n        password,\r\n      },\r\n    });\r\n    if (res.data.status === 'success') {\r\n      showAlert('success', 'Logged  in successfully');\r\n      window.setTimeout(() => {\r\n        location.assign('/');\r\n      }, 1500);\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    showAlert('error', error.response.data.message);\r\n  }\r\n};\r\n\r\nexport const logout = async (email, password) => {\r\n  try {\r\n    const res = await axios({\r\n      method: 'GET',\r\n      url: '/api/v1/users/logout',\r\n    });\r\n    if (res.data.status === 'success') {\r\n      location.reload(true);\r\n    }\r\n  } catch (error) {\r\n    showAlert('error', 'Error logging out! Try again');\r\n  }\r\n};\r\n\r\nexport const signup = async (\r\n  name,\r\n  email,\r\n  password,\r\n  passwordConfirm\r\n) => {\r\n  try {\r\n    const res = await axios({\r\n      method: 'POST',\r\n      url: '/api/v1/users/signup',\r\n      data: {\r\n        name,\r\n        email,\r\n        password,\r\n        passwordConfirm,\r\n      },\r\n    });\r\n    if (res.data.status === 'success') {\r\n      showAlert('success', 'Signed up successfully');\r\n      window.setImmediate(() => {\r\n        location.assign('/');\r\n      }, 1500);\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', err.response.data.message);\r\n  }\r\n};\r\n","/*eslint-disable*/\r\n\r\nexport const hideAlert = () => {\r\n  const el = document.querySelector('.alert');\r\n  if (el) el.parentElement.removeChild(el);\r\n};\r\nexport const showAlert = (type, msg) => {\r\n  hideAlert();\r\n  const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\r\n  document\r\n    .querySelector('body')\r\n    .insertAdjacentHTML('afterbegin', markup);\r\n  window.setTimeout(hideAlert, 5000);\r\n};\r\n","/*eslint-disable*/\r\nimport { showAlert } from './alerts';\r\n\r\nexport const updateSettings = async (data, type) => {\r\n  try {\r\n    console.log(data);\r\n    const url =\r\n      type === 'password'\r\n        ? '/api/v1/users/updateMyPassword'\r\n        : '/api/v1/users/updateMe';\r\n    const res = await axios({\r\n      method: 'PATCH',\r\n      url,\r\n      data,\r\n    });\r\n\r\n    if (res.data.status === 'success') {\r\n      showAlert(\r\n        'success',\r\n        `${type.toUpperCase()} updated successfully!`\r\n      );\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', err.response.data.message);\r\n  }\r\n};\r\n","import { showAlert } from './alerts';\r\n\r\n/*eslint-disable*/\r\nconst stripe = Stripe(\r\n  'pk_test_51NSSWuSATxeCRZhs12oftZCZ0Vp3oBnE9URxKECGqTVCrwAtENHrEzM2x4fCuRlwz7dxECRRmCZYnGKA1Ydy82Ev00n8cEr4jt'\r\n);\r\nexport const bookTour = async (tourId, startDateId) => {\r\n  try {\r\n    // 1) Get checkout session from API\r\n    console.log('working');\r\n    const session = await axios(\r\n      `/api/v1/booking/checkout-session/${tourId}/${startDateId}`\r\n    );\r\n    console.log(session.data.session.id, session);\r\n    // 2) Create checkout form + charge the credit card\r\n    await stripe.redirectToCheckout({\r\n      sessionId: session.data.session.id,\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n    showAlert('error', err);\r\n  }\r\n};\r\n","import { showAlert } from './alerts';\r\n\r\nexport const leaveReview = async (\r\n  review,\r\n  rating,\r\n  tour,\r\n  user\r\n) => {\r\n  try {\r\n    const res = await axios({\r\n      method: 'POST',\r\n      url: `/api/v1/tours/${tour}/reviews`,\r\n      data: {\r\n        review,\r\n        rating,\r\n        tour,\r\n        user,\r\n      },\r\n    });\r\n\r\n    if (res.data.status === 'success') {\r\n      showAlert(\r\n        'success',\r\n        'Review was succesfully uploaded!'\r\n      );\r\n      window.setTimeout(() => {\r\n        location.reload(true);\r\n      }, 1000);\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', 'You can leave only one review.');\r\n  }\r\n};\r\nexport const editReview = async (\r\n  rating,\r\n  review,\r\n  reviewId\r\n) => {\r\n  try {\r\n    const res = await axios({\r\n      method: 'PATCH',\r\n      url: `/api/v1/reviews/${reviewId}`,\r\n      data: {\r\n        rating,\r\n        review,\r\n      },\r\n    });\r\n\r\n    if (res.data.status === 'success') {\r\n      showAlert(\r\n        'success',\r\n        'Review was succesfully edited!'\r\n      );\r\n      window.setTimeout(() => {\r\n        location.reload(true);\r\n      }, 1000);\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', 'Error with editing review!');\r\n  }\r\n};\r\n\r\nexport const deleteReview = async (reviewId) => {\r\n  try {\r\n    const res = await axios({\r\n      method: 'DELETE',\r\n      url: `/api/v1/reviews/${reviewId}`,\r\n    });\r\n\r\n    if (res.status === 204) {\r\n      showAlert(\r\n        'success',\r\n        'Review was succesfully deleted!'\r\n      );\r\n      window.setTimeout(() => {\r\n        location.reload(true);\r\n      }, 600);\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', 'Error with deleting review!');\r\n  }\r\n};\r\n"],"names":["$464a6b1d4ff7eaf0$export$516836c6a9dfc573","el","document","querySelector","parentElement","removeChild","$464a6b1d4ff7eaf0$export$de026b00723010c1","type","msg","markup","insertAdjacentHTML","window","setTimeout","$6b9fb057330b23bc$export$596d806903d1f59e","email","password","res","axios","method","url","data","status","location","assign","error","console","log","response","message","$6b9fb057330b23bc$export$a0973bcfe11b05c9","reload","$6b9fb057330b23bc$export$7200a869094fec36","name","passwordConfirm","setImmediate","err","$32829daa09536fc4$export$f558026a994b6051","toUpperCase","$e1c826a0a5d6adee$var$stripe","Stripe","$e1c826a0a5d6adee$export$8d5bdbf26681c0c2","tourId","startDateId","session","id","redirectToCheckout","sessionId","$3874b54bdba0a28a$export$27e91d9d0d5c3267","review","rating","tour","user","$3874b54bdba0a28a$export$5880d3dcefee9176","reviewId","$3874b54bdba0a28a$export$189a68d831f3e4ec","$c2fdc85be7b330ef$var$mapBox","getElementById","$c2fdc85be7b330ef$var$loginForm","$c2fdc85be7b330ef$var$logoutBtn","$c2fdc85be7b330ef$var$signupForm","$c2fdc85be7b330ef$var$userDataForm","$c2fdc85be7b330ef$var$userPasswordForm","$c2fdc85be7b330ef$var$reviewDataForm","$c2fdc85be7b330ef$var$bookBtn","$c2fdc85be7b330ef$var$selectStartDate","$c2fdc85be7b330ef$var$reviews","locations","JSON","parse","dataset","map","L","center","zoom","zoomControl","dragging","tileLayer","attribution","addTo","points","forEach","loc","push","coordinates","marker","bindPopup","day","description","autoClose","openPopup","bounds","latLngBounds","pad","fitBounds","scrollWheelZoom","disable","addEventListener","e","preventDefault","value","form","FormData","append","files","textContent","passwordCurrent","target","ids","tagName","button","reviewsCard","closest","reviews","parentNode","reviewText","reviewRatingBox","cancel","createElement","className","setAttribute","stars","querySelectorAll","inputReview","style","width","inputRating","length","insertBefore","cancelBtn","editBtn","reviewTextContent","$c2fdc85be7b330ef$var$alertMessage","alert"],"version":3,"file":"index.js.map"}